<!DOCTYPE html>	<!-- Tells the browser that the page uses the HTML5 standard -->
<html>
	<head>
		<!-- -------------------------------------
  			Roughly based (or inspired by) NeHe Tutorial xxx 
  			Original:  http://nehe.gamedev.net/tutorial/model_loading/16004/
  
  			@author: rkwright@geofx.com
		-------------------------------------- -->
		<title>NEHE Tutorial 32</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

		<!-- Set the viewport size to the screen size, so it will be displayed maximized, but unscaled. -->
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1"/>
		<link rel="stylesheet" type="text/css" href="../css/NEHE.css" /> 

		<!-- Include several libraries from THREE.js and the Scene class  -->
		<script src="../js/three.js" type="text/javascript"></script>
		<script src="../js/BinaryLoader.js" type="text/javascript"></script>
		<script src="../js/Detector.js" type="text/javascript"></script>
		<script src="../js/OrbitControls-Touch.js" type="text/javascript"></script>
		<script src="../js/Stats.js" type="text/javascript"></script>
		<script src="../js/gfx-scene.js" type="text/javascript"></script>
	</head>
	<body>	
		<script type="text/javascript">
			var	car;
	
			// allocate the Scene object, request orbitControls, some of 3D axes 10 units high and the stats
			var gfxScene = new GFX.Scene( { axisHeight:10, 
									  controls:true, 
									  displayStats:true,
									  floorRepeat:10,
									  fogType:'linear'});
	
			// set up the THREE.js scene via our Scene object
			gfxScene.initialize();
	
			// then initialize our demo's stuff
			initializeDemo();
	
			// Animate the scene
			animateScene();
	
			/**
			 * Initialize the Demo.  
			 */
	
			/*
			function initializeDemo() {
	
				document.addEventListener("keypress", onDocumentKeyPress, false);
	
				new THREE.BinaryLoader().load('models/VeyronNoUv_bin.js', function(geometry) {     
					var orange = new THREE.MeshLambertMaterial( { color: 0x995500, opacity: 1.0, transparent: false } );     
					var mesh	= new THREE.Mesh( geometry, orange );     
					mesh.scale.x = mesh.scale.y = mesh.scale.z = 0.025;
					mesh.position.y += 0.94;
					gfxScene.add( mesh ); 
					
					car = mesh; 
				}); 
			}
			*/
	
			function initializeDemo() {
	
				document.addEventListener("keypress", onDocumentKeyPress, false);
				var binaryLoader = new THREE.BinaryLoader().load( "models/VeyronNoUv_bin.js", addModelToScene );
				
			};
	
			function addModelToScene( geometry, materials ) {
				var material = new THREE.MeshFaceMaterial( materials );
				car = new THREE.Mesh( geometry, material );
				car.scale.set(0.025, 0.025, 0.025);
				car.position.y += 0.90;
				gfxScene.add( car );
			}
	
	
			function onDocumentKeyPress(event) {
				// Get the key code of the pressed key
				var keyChar = String.fromCharCode(event.which);
			}
	
			/**
			 * Animate the scene and call rendering.
			 */
			function animateScene() {
	
				// Tell the browser to call this function when page is visible
				requestAnimationFrame(animateScene);
				
				// Map the 3D scene down to the 2D screen (render the frame)
				gfxScene.renderScene();
			}

		</script>

		<!-- Create a DIV element, which will be shown over the WebGL canvas. -->
		<div style="position: absolute; top: 10px; left: 10px;color:red">
			<br/>
			'model: m, x' model type: with mat, w/o mat 
		</div>
	</body>
</html>
